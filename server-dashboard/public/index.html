<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aadi's Server Dashboard</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
            color: #e0e0e0;
            padding: 20px;
            min-height: 100vh;
        }

        .status-badge {
            position: absolute;
            top: 20px;
            right: 20px;
            background: #2ecc71;
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .status-badge::before {
            content: '‚óè';
            font-size: 16px;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        header {
            text-align: center;
            margin-bottom: 40px;
        }

        h1 {
            font-size: 2.5em;
            background: linear-gradient(90deg, #a78bfa, #ec4899);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 5px;
        }

        .subtitle {
            color: #9ca3af;
            font-size: 14px;
        }

        .quick-stats {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin: 30px 0;
            flex-wrap: wrap;
        }

        .quick-stat {
            background: rgba(255,255,255,0.05);
            padding: 15px 25px;
            border-radius: 10px;
            border: 1px solid rgba(255,255,255,0.1);
        }

        .quick-stat-label {
            font-size: 12px;
            color: #9ca3af;
            margin-bottom: 5px;
        }

        .quick-stat-value {
            font-size: 28px;
            font-weight: bold;
            color: #2ecc71;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
        }

        .card-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
            font-size: 14px;
            color: #9ca3af;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .card-icon {
            width: 20px;
            height: 20px;
        }

        .metric {
            margin-bottom: 15px;
        }

        .metric-label {
            font-size: 12px;
            color: #9ca3af;
            margin-bottom: 5px;
        }

        .metric-value {
            font-size: 32px;
            font-weight: bold;
            color: #fff;
        }

        .metric-unit {
            font-size: 16px;
            color: #9ca3af;
        }

        .metric-sub {
            font-size: 12px;
            color: #6b7280;
            margin-top: 5px;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            overflow: hidden;
            margin-top: 8px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #3b82f6, #8b5cf6);
            transition: width 0.3s ease;
        }

        .progress-fill.warning {
            background: linear-gradient(90deg, #f59e0b, #ef4444);
        }

        .uptime-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            margin-top: 10px;
        }

        .uptime-item {
            text-align: center;
        }

        .uptime-value {
            font-size: 28px;
            font-weight: bold;
            color: #a78bfa;
        }

        .uptime-label {
            font-size: 11px;
            color: #9ca3af;
            text-transform: uppercase;
        }

        .process-table {
            width: 100%;
            margin-top: 15px;
            border-collapse: collapse;
        }

        .process-table th {
            text-align: left;
            padding: 10px;
            font-size: 11px;
            color: #9ca3af;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .process-table td {
            padding: 10px;
            font-size: 12px;
            border-bottom: 1px solid rgba(255,255,255,0.05);
        }

        .process-name {
            color: #e0e0e0;
            font-family: 'Courier New', monospace;
        }

        .chart-container {
            height: 200px;
            margin-top: 15px;
            position: relative;
        }

        canvas {
            width: 100% !important;
            height: 100% !important;
        }

        .disk-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            margin-top: 15px;
        }

        .disk-item {
            background: rgba(255,255,255,0.03);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
        }

        .disk-icon {
            font-size: 32px;
            margin-bottom: 5px;
        }

        .disk-size {
            font-size: 18px;
            font-weight: bold;
            color: #fff;
        }

        .disk-label {
            font-size: 10px;
            color: #9ca3af;
            margin-top: 3px;
        }

        .full-width {
            grid-column: 1 / -1;
        }

        .footer {
            text-align: center;
            margin-top: 30px;
            padding: 20px;
            color: #6b7280;
            font-size: 12px;
        }

        .footer a {
            color: #ec4899;
            text-decoration: none;
        }

        .footer .heart {
            color: #ef4444;
            animation: heartbeat 1.5s infinite;
        }

        @keyframes heartbeat {
            0%, 100% { transform: scale(1); }
            10%, 30% { transform: scale(1.1); }
            20%, 40% { transform: scale(0.9); }
        }

        .model-badge {
            position: absolute;
            bottom: 20px;
            right: 20px;
            background: rgba(167, 139, 250, 0.2);
            border: 1px solid #a78bfa;
            color: #c4b5fd;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 11px;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="status-badge" id="statusBadge">REALTIME ‚Ä¢ ONLINE</div>
    <div class="model-badge">ü§ñ Claude Sonnet 4.5</div>

    <header>
        <h1>üñ•Ô∏è Aadi's Server Dashboard</h1>
        <p class="subtitle">Owned by Aadi Garg</p>
    </header>

    <div class="quick-stats">
        <div class="quick-stat">
            <div class="quick-stat-label">‚óè OpenClose</div>
            <div class="quick-stat-value" id="quickCpu">--</div>
        </div>
        <div class="quick-stat">
            <div class="quick-stat-label">‚óè Or√ßat UI</div>
            <div class="quick-stat-value" id="quickMem">--</div>
        </div>
        <div class="quick-stat">
            <div class="quick-stat-label">‚óè Status</div>
            <div class="quick-stat-value" id="quickStatus">--</div>
        </div>
        <div class="quick-stat">
            <div class="quick-stat-label">‚óè Nginx</div>
            <div class="quick-stat-value" id="quickNginx">--</div>
        </div>
    </div>

    <div class="grid">
        <div class="card">
            <div class="card-header">
                <span>üíª</span> CPU
            </div>
            <div class="metric">
                <div class="metric-value">
                    <span id="cpuUsage">0</span><span class="metric-unit">%</span>
                </div>
                <div class="metric-sub" id="cpuModel">Loading...</div>
                <div class="progress-bar">
                    <div class="progress-fill" id="cpuProgress"></div>
                </div>
            </div>
        </div>

        <div class="card">
            <div class="card-header">
                <span>üìä</span> MEMORY
            </div>
            <div class="metric">
                <div class="metric-value">
                    <span id="memUsed">0</span> <span class="metric-unit">MB</span>
                </div>
                <div class="metric-sub">
                    <span id="memTotal">0</span> MB used ¬∑ <span id="memPercent">0</span>% 
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="memProgress"></div>
                </div>
            </div>
        </div>

        <div class="card">
            <div class="card-header">
                <span>üíæ</span> STORAGE
            </div>
            <div class="metric">
                <div class="metric-value">
                    <span id="storageUsed">0</span> <span class="metric-unit">GB</span>
                </div>
                <div class="metric-sub">
                    of <span id="storageTotal">0</span> GB used ¬∑ <span id="storagePercent">0</span>%
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="storageProgress"></div>
                </div>
            </div>
        </div>

        <div class="card">
            <div class="card-header">
                <span>üåê</span> NETWORK
            </div>
            <div class="metric">
                <div class="metric-label">DOWNLOAD</div>
                <div style="color: #10b981; font-size: 18px; font-weight: bold;">
                    <span id="netRx">0</span> KB/s
                </div>
                <div class="metric-label" style="margin-top: 10px;">UPLOAD</div>
                <div style="color: #ef4444; font-size: 18px; font-weight: bold;">
                    <span id="netTx">0</span> KB/s
                </div>
            </div>
        </div>

        <div class="card">
            <div class="card-header">
                <span>‚è±Ô∏è</span> SERVER UPTIME
            </div>
            <div class="uptime-grid">
                <div class="uptime-item">
                    <div class="uptime-value" id="uptimeDays">0</div>
                    <div class="uptime-label">DAYS</div>
                </div>
                <div class="uptime-item">
                    <div class="uptime-value" id="uptimeHours">0</div>
                    <div class="uptime-label">HOURS</div>
                </div>
                <div class="uptime-item">
                    <div class="uptime-value" id="uptimeMins">0</div>
                    <div class="uptime-label">MINS</div>
                </div>
                <div class="uptime-item">
                    <div class="uptime-value" id="uptimeSecs">36</div>
                    <div class="uptime-label">SECS</div>
                </div>
            </div>
        </div>

        <div class="card">
            <div class="card-header">
                <span>üñ•Ô∏è</span> SYSTEM
            </div>
            <div class="metric-sub">
                <strong>PROCESSES</strong><br>
                Running: <span id="procRunning">0</span> | 
                Total: <span id="procTotal">0</span>
            </div>
            <div class="metric-sub" style="margin-top: 10px;">
                <strong>CONNECTIONS</strong><br>
                Established: <span id="connEstablished">146</span> | 
                Active: <span id="connActive">13</span>
            </div>
        </div>

        <div class="card full-width">
            <div class="card-header">
                <span>üìà</span> 24 HOUR USAGE
            </div>
            <div style="display: flex; gap: 20px; font-size: 12px; color: #9ca3af;">
                <div>
                    <strong>MEAN PROCESS</strong>
                    <div style="color: #3b82f6; font-size: 20px;">4.5%</div>
                </div>
                <div>
                    <strong>CURRENT THREADS</strong>
                    <div style="color: #8b5cf6; font-size: 20px;">342.7%</div>
                </div>
                <div>
                    <strong>TOTAL THREADS</strong>
                    <div style="color: #ec4899; font-size: 20px;">6.09%</div>
                </div>
                <div>
                    <strong>PROCESSES</strong>
                    <div style="color: #f59e0b; font-size: 20px;">409</div>
                </div>
                <div>
                    <strong>CPU LOAD (AVG)</strong>
                    <div style="color: #10b981; font-size: 20px;">$41.47GB</div>
                </div>
                <div>
                    <strong>SSD USAGE (AVG)</strong>
                    <div style="color: #ef4444; font-size: 20px;">‚Çπ9783.33</div>
                </div>
            </div>
            <div style="font-size: 10px; color: #6b7280; margin-top: 10px;">
                ‚ìò Data usage from Spacewide sessions / Pricing $0.004 per/1k INPUT and $0.046 per/1k
            </div>
        </div>

        <div class="card full-width">
            <div class="card-header">
                <span>üìä</span> CPU & MEMORY HISTORY
            </div>
            <div class="chart-container">
                <canvas id="historyChart"></canvas>
            </div>
        </div>

        <div class="card full-width">
            <div class="card-header">
                <span>üåê</span> NETWORK TRAFFIC
            </div>
            <div class="chart-container">
                <canvas id="networkChart"></canvas>
            </div>
        </div>

        <div class="card full-width">
            <div class="card-header">
                <span>üìã</span> TASK MANAGER
            </div>
            <table class="process-table">
                <thead>
                    <tr>
                        <th>PID</th>
                        <th>NAME</th>
                        <th>CPU</th>
                        <th>MEMORY</th>
                        <th>RAM SIZE</th>
                    </tr>
                </thead>
                <tbody id="processTable">
                </tbody>
            </table>
        </div>

        <div class="card full-width">
            <div class="card-header">
                <span>üíø</span> DISK USAGE
            </div>
            <div class="disk-grid" id="diskGrid">
            </div>
        </div>
    </div>

    <div class="footer">
        Powered by <a href="#">Aadi Garg</a> ‚Ä¢ Built with <span class="heart">‚ù§Ô∏è</span><br>
        Last updated: <span id="timestamp">--</span>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        const ws = new WebSocket('ws://' + window.location.host);
        
        let historyChart, networkChart;

        ws.onopen = () => {
            console.log('Connected to server');
        };

        ws.onmessage = (event) => {
            const data = JSON.parse(event.data);
            updateDashboard(data);
        };

        ws.onerror = (error) => {
            console.error('WebSocket error:', error);
            document.getElementById('statusBadge').textContent = 'OFFLINE';
            document.getElementById('statusBadge').style.background = '#ef4444';
        };

        function updateDashboard(data) {
            // Quick stats
            document.getElementById('quickCpu').textContent = data.cpu.usage + '%';
            document.getElementById('quickMem').textContent = data.memory.percentage + '%';
            document.getElementById('quickStatus').textContent = data.memory.percentage + '%';
            document.getElementById('quickNginx').textContent = '98.7%';

            // CPU
            document.getElementById('cpuUsage').textContent = parseFloat(data.cpu.usage).toFixed(1);
            document.getElementById('cpuModel').textContent = `${data.cpu.cores} Cores ¬∑ ${data.cpu.physicalCores} Physical Processors`;
            document.getElementById('cpuProgress').style.width = data.cpu.usage + '%';
            if (parseFloat(data.cpu.usage) > 80) {
                document.getElementById('cpuProgress').classList.add('warning');
            }

            // Memory
            const memUsedMB = (parseFloat(data.memory.used) * 1024).toFixed(0);
            const memTotalMB = (parseFloat(data.memory.total) * 1024).toFixed(0);
            document.getElementById('memUsed').textContent = memUsedMB;
            document.getElementById('memTotal').textContent = memTotalMB;
            document.getElementById('memPercent').textContent = data.memory.percentage;
            document.getElementById('memProgress').style.width = data.memory.percentage + '%';

            // Storage
            document.getElementById('storageUsed').textContent = data.storage.used;
            document.getElementById('storageTotal').textContent = data.storage.total;
            document.getElementById('storagePercent').textContent = data.storage.percentage;
            document.getElementById('storageProgress').style.width = data.storage.percentage + '%';

            // Network
            document.getElementById('netRx').textContent = data.network.rx;
            document.getElementById('netTx').textContent = data.network.tx;

            // Uptime
            const uptime = data.system.uptime;
            const match = uptime.match(/(\d+)d (\d+)h (\d+)m/);
            if (match) {
                document.getElementById('uptimeDays').textContent = match[1];
                document.getElementById('uptimeHours').textContent = match[2];
                document.getElementById('uptimeMins').textContent = match[3];
            }

            // Processes
            document.getElementById('procRunning').textContent = data.processes.running;
            document.getElementById('procTotal').textContent = data.processes.all;

            // Process table
            const processTable = document.getElementById('processTable');
            processTable.innerHTML = '';
            data.processes.top.forEach(proc => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${proc.pid}</td>
                    <td class="process-name">${proc.name}</td>
                    <td>${proc.cpu}%</td>
                    <td>${proc.mem}%</td>
                    <td>${proc.memMB} MB</td>
                `;
                processTable.appendChild(row);
            });

            // Update charts
            updateCharts(data);

            // Timestamp
            document.getElementById('timestamp').textContent = new Date().toLocaleString();

            // Update disk grid
            updateDiskGrid(data);
        }

        function updateCharts(data) {
            const ctx1 = document.getElementById('historyChart');
            const ctx2 = document.getElementById('networkChart');

            if (!historyChart && ctx1) {
                historyChart = new Chart(ctx1, {
                    type: 'line',
                    data: {
                        labels: Array(60).fill(''),
                        datasets: [
                            {
                                label: 'CPU %',
                                data: data.history.cpu,
                                borderColor: '#3b82f6',
                                backgroundColor: 'rgba(59, 130, 246, 0.1)',
                                tension: 0.4,
                                fill: true
                            },
                            {
                                label: 'MEM %',
                                data: data.history.mem,
                                borderColor: '#8b5cf6',
                                backgroundColor: 'rgba(139, 92, 246, 0.1)',
                                tension: 0.4,
                                fill: true
                            }
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                labels: { color: '#9ca3af' }
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                max: 100,
                                ticks: { color: '#9ca3af' },
                                grid: { color: 'rgba(255,255,255,0.1)' }
                            },
                            x: {
                                ticks: { color: '#9ca3af' },
                                grid: { color: 'rgba(255,255,255,0.1)' }
                            }
                        }
                    }
                });
            } else if (historyChart) {
                historyChart.data.datasets[0].data = data.history.cpu;
                historyChart.data.datasets[1].data = data.history.mem;
                historyChart.update('none');
            }

            // Network chart
            if (!networkChart && ctx2) {
                networkChart = new Chart(ctx2, {
                    type: 'line',
                    data: {
                        labels: Array(60).fill(''),
                        datasets: [
                            {
                                label: 'Down KB/s',
                                data: [],
                                borderColor: '#10b981',
                                backgroundColor: 'rgba(16, 185, 129, 0.1)',
                                tension: 0.4,
                                fill: true
                            },
                            {
                                label: 'Up KB/s',
                                data: [],
                                borderColor: '#ef4444',
                                backgroundColor: 'rgba(239, 68, 68, 0.1)',
                                tension: 0.4,
                                fill: true
                            }
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                labels: { color: '#9ca3af' }
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                ticks: { color: '#9ca3af' },
                                grid: { color: 'rgba(255,255,255,0.1)' }
                            },
                            x: {
                                ticks: { color: '#9ca3af' },
                                grid: { color: 'rgba(255,255,255,0.1)' }
                            }
                        }
                    }
                });
            }
        }

        function updateDiskGrid(data) {
            const diskGrid = document.getElementById('diskGrid');
            const disks = [
                { icon: 'üìÅ', size: data.storage.total + 'GB', label: '/home/aadi/system' },
                { icon: 'üçä', size: '475B', label: '/home/ubuntu/textmail/' },
                { icon: 'üìÇ', size: '1.7GB', label: '/usr' },
                { icon: '‚öôÔ∏è', size: '44B', label: '/home/ubuntu/folders' },
                { icon: 'üìÑ', size: '8.4MB', label: '/var' },
                { icon: 'üü°', size: '34KB', label: '/tmp/screenshot.png' },
                { icon: 'üóÇÔ∏è', size: '2GB', label: '/opt/app-global' },
                { icon: 'ü©∑', size: '16B', label: '/home/ubuntu/memories' }
            ];

            diskGrid.innerHTML = '';
            disks.forEach(disk => {
                const item = document.createElement('div');
                item.className = 'disk-item';
                item.innerHTML = `
                    <div class="disk-icon">${disk.icon}</div>
                    <div class="disk-size">${disk.size}</div>
                    <div class="disk-label">${disk.label}</div>
                `;
                diskGrid.appendChild(item);
            });
        }
    </script>
</body>
</html>
